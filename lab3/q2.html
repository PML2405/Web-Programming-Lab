<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Employee CRUD</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <style>
        body {
            background-color: #f8f9fa;
        }

        #box {
            max-width: 800px;
            margin: 3rem auto;
            padding: 2rem;
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 0.75rem 1.5rem rgba(0,0,0,0.08);
        }
    </style>
</head>
<body>

<div id="box">
    <h3 class="text-center mb-4">Employee CRUD Operations</h3>

    <div class="row mb-3">
        <div class="col-md-3">
            <input type="number" id="eid" class="form-control" placeholder="ID">
        </div>
        <div class="col-md-3">
            <input type="text" id="ename" class="form-control" placeholder="Name">
        </div>
        <div class="col-md-3">
            <input type="text" id="edept" class="form-control" placeholder="Department">
        </div>
        <div class="col-md-3">
            <input type="number" id="esalary" class="form-control" placeholder="Salary">
        </div>
    </div>

    <div class="text-center mb-3">
        <button class="btn btn-success" onclick="add()">Add</button>
        <button class="btn btn-warning" onclick="update()">Update</button>
    </div>

    <table class="table table-bordered text-center">
        <thead class="table-light">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Department</th>
                <th>Salary</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="table"></tbody>
    </table>
</div>

<script>
    $(document).ready(function () {

        let emp = [];

        $(".btn-success").click(function () {
            let e = {
                id: $("#eid").val(),
                name: $("#ename").val(),
                dept: $("#edept").val(),
                salary: $("#esalary").val()
            };

            emp.push(e);
            show();
            clearFields();
        });

        $(".btn-warning").click(function () {
            let id = $("#eid").val();

            $.each(emp, function (i, e) {
                if (e.id == id) {
                    e.name = $("#ename").val();
                    e.dept = $("#edept").val();
                    e.salary = $("#esalary").val();
                }
            });

            show();
            clearFields();
        });

        function show() {
            $("#table").empty();

            $.each(emp, function (i, e) {
                $("#table").append(
                    "<tr>" +
                    "<td>" + e.id + "</td>" +
                    "<td>" + e.name + "</td>" +
                    "<td>" + e.dept + "</td>" +
                    "<td>" + e.salary + "</td>" +
                    "<td><button class='btn btn-danger btn-sm delete' data-index='" + i + "'>Delete</button></td>" +
                    "</tr>"
                );
            });
        }

        $("#table").on("click", ".delete", function () {
            let index = $(this).data("index");
            emp.splice(index, 1);
            show();
        });

        function clearFields() {
            $("#eid, #ename, #edept, #esalary").val("");
        }

    });
</script>


</body>
</html>
